# ğŸ«¡ å¤§äº‹

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã¯ã€ä»¥ä¸‹ mini-typescript ã®ã‚³ãƒ¼ãƒ‰ã‚’å‚ç…§ã—ã¦ãŠã‚Šã¾ã™ã€‚

https://github.com/sandersn/mini-typescript

# ğŸ“š ã‚³ãƒ¼ãƒ‰å†…ã®ç”¨èª

**ğŸ·ï¸ æ–‡ï¼ˆStatementï¼‰**

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œå˜ä½ï¼ˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚„å®£è¨€ï¼‰ã§ã‚ã‚Šã€å˜ç‹¬ã§æ„å‘³ã‚’æŒã¤ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚

ä¸€èˆ¬çš„ã«ã¯å€¤ã‚’è¿”ã•ãšã€ã€Œå‘½ä»¤ã€ã®ã‚ˆã†ãªå½¹å‰²ã‚’æŒã¤ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚

| æ–‡ã®ç¨®é¡   | ä¾‹                    | èª¬æ˜               |
| ---------- | --------------------- | ------------------ |
| å¤‰æ•°å®£è¨€æ–‡ | let x = 10;           | å¤‰æ•°ã®å®£è¨€ã¨ä»£å…¥   |
| åˆ¶å¾¡æ–‡     | if (x > 0) { ... }    | æ¡ä»¶åˆ†å²           |
| ãƒ«ãƒ¼ãƒ—æ–‡   | while (x > 0) { ... } | ç¹°ã‚Šè¿”ã—å‡¦ç†       |
| return æ–‡  | return x;             | é–¢æ•°ã‹ã‚‰å€¤ã‚’è¿”ã™   |
| ãƒ–ãƒ­ãƒƒã‚¯æ–‡ | { let y = 5; }        | è¤‡æ•°ã®æ–‡ã‚’ã¾ã¨ã‚ã‚‹ |

**ğŸ·ï¸ å¼ï¼ˆExpressionï¼‰**

ãƒ—ãƒ­ã‚°ãƒ©ãƒ å†…ã®æ¼”ç®—ã‚„å‚ç…§ã§ã‚ã‚Šã€å˜ç‹¬ã§ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æµã‚Œã‚’åˆ¶å¾¡ã—ãªã„ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚

å€¤ã‚’ç”Ÿæˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®å˜ä½ã§ã‚ã‚Šã€è©•ä¾¡ã™ã‚‹ã¨ï¼ˆæ–‡ã¨åå¯¾ã«ï¼‰å€¤ãŒè¿”ã‚‹ã‚‚ã®ã§ã™ã€‚

| å¼ã®ç¨®é¡          | ä¾‹                              | èª¬æ˜                      |
| ----------------- | ------------------------------- | ------------------------- |
| ãƒªãƒ†ãƒ©ãƒ«å¼        | "Hello" / 28                    | å€¤ãã®ã‚‚ã®                |
| å¤‰æ•°              | x / y + 10                      | å¤‰æ•°ã®å‚ç…§ã‚„è¨ˆç®—          |
| é–¢æ•°å‘¼ã³å‡ºã—      | add(2, 3)                       | é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦å€¤ã‚’å¾—ã‚‹    |
| é…åˆ—/ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ | [1, 2, 3] / { name: "Maria" }   | ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ä½œã‚‹          |
| ä»£å…¥å¼            | x = 5                           | ä»£å…¥ã®çµæœã¨ã—ã¦ 5 ã‚’è¿”ã™ |
| ä¸‰é …æ¼”ç®—å­        | x > 0 ? "Positive" : "Negative" | æ¡ä»¶ã«å¿œã˜ã¦å€¤ã‚’è¿”ã™      |

**ğŸ·ï¸ å¼æ–‡**

ã€Œå¼ã‚’æ–‡ã¨ã—ã¦æ‰±ã†ã€ç‰¹åˆ¥ãªã‚±ãƒ¼ã‚¹ã«ç”¨ã„ã‚‰ã‚Œã¾ã™ã€‚

å¼ã¯æœ¬æ¥å€¤ã‚’è¿”ã™ãŒã€æ–‡ã¨ã—ã¦è©•ä¾¡ã•ã‚Œã‚‹å ´åˆã«å€¤ã¯ç ´æ£„ã•ã‚Œã‚‹ãŸã‚ã€çµæœçš„ã«å€¤ã‚’è¿”ã•ãªã„å¼ã¨ãªã‚‹ã€‚

```ts
x + 10; // âœ… å¼æ–‡ (è¨ˆç®—ã™ã‚‹ãŒå€¤ã‚’ä½¿ã‚ãªã„)
add(2, 3); // âœ… é–¢æ•°å‘¼ã³å‡ºã— (æˆ»ã‚Šå€¤ã‚’ä½¿ã‚ãªã„)
```

**ğŸ›‘Symbolï¼ˆã‚·ãƒ³ãƒœãƒ«ï¼‰**

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®å‹è§£æã§ä½¿ã‚ã‚Œã‚‹è­˜åˆ¥å­ï¼ˆåå‰ï¼‰ã«å¯¾å¿œã™ã‚‹æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚

å…·ä½“çš„ã«ã¯ã€å¤‰æ•°ã€é–¢æ•°ã€ã‚¯ãƒ©ã‚¹ã€å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ãªã©ã®å®£è¨€æƒ…å ±ã‚’ä¿æŒã™ã‚‹å½¹å‰²ã‚’æŒã£ã¦ã„ã¾ã™ã€‚
ä¸»ã« Binder ãƒ•ã‚§ãƒ¼ã‚ºã§ä½œæˆã•ã‚Œã€Table å‹ã¯ã‚·ãƒ³ãƒœãƒ«ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒãƒƒãƒ—ã®å½¹å‰²ã‚’æŒã£ã¦ã„ã¾ã™ã€‚

```ts
var x = 10;
type Point = { x: number; y: number };
function foo() {}
```

| åå‰    | ç¨®é¡         | å®£è¨€ã®ä½ç½®                              |
| ------- | ------------ | --------------------------------------- |
| `x`     | å¤‰æ•°         | `var x = 10`                            |
| `Point` | å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ | `type Point = { x: number, y: number }` |
| `foo`   | é–¢æ•°         | `function foo() {}`                     |

**ğŸ“‹ é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£**

é–¢æ•°ã®å‹æƒ…å ±ã‚’è¡¨ã™å®šç¾©ã®ã“ã¨ã‚’æŒ‡ã—ã¦ãŠã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹æˆè¦ç´ ã‚’ã‚’æŒã£ã¦ã„ã¾ã™ã€‚

1. é–¢æ•°å (çœç•¥ã•ã‚Œã‚‹å ´åˆã‚‚ã‚ã‚‹)
2. å¼•æ•°ã®å‹æƒ…å ±
3. æˆ»ã‚Šå€¤ã®å‹æƒ…å ±
4. å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ (ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ãªã©ã®å ´åˆ)

```ts
function add(x: number, y: number): number {
  return x + y;
}
```

ã“ã®ä¾‹ã§ã¯ã€`add` é–¢æ•°ã®ã‚·ã‚°ãƒãƒãƒ£ã¯ `(x: number, y: number) => number` ã¨ãªã‚Šã¾ã™ã€‚

# ğŸ›¤ï¸ å…¨ä½“åƒ

## âœ…Scanner

![scanner](./images/scanner.jpg)

## âœ…Parser

![parser](./images/parser.jpg)

## âœ…Binder

![binder](./images/binder.jpg)

## âœ…Checker

![checker](./images/checker.jpg)

## âœ…Transform

![transform](./images/transform.jpg)

## âœ…Emitter

![emitter](./images/emitter.jpg)

## æ³¨æ„

1. ChatGPT ã«èª¬æ˜ã—ã¦ã‚‚ã‚‰ã£ã¦ã„ã‚‹ç®‡æ‰€ãªã©ã‚‚å«ã¾ã‚Œã¦ãŠã‚Šã€æ–‡ç« ã«çµ±ä¸€æ„ŸãŒãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“
2. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã¯å…¨ã¦ [mini-typescript](https://github.com/sandersn/mini-typescript) ã®ãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã‚’å‚ç…§ã—ã¦ã„ã¾ã™ã€‚ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å‘¨ã‚Šã®ä¸å‚™ãªã©ã‚’è¦‹ã¤ã‘ãŸæ–¹ã¯ã€ã”é€£çµ¡ã‚’ã„ãŸã ã‘ã¾ã™ã¨å¹¸ã„ã§ã™ã€‚
